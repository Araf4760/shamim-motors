<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Entry Form</title>
  <style>
    body { background-color: #1c1c44; font-family: 'Siyam Rupali', sans-serif; color: white; margin:0; padding:0; }
    .container { max-width:900px; margin:auto; padding:20px; border-radius:20px; box-shadow:0 0 15px rgba(0,0,0,0.5); }
    h2 { font-size:32px; text-align:center; margin-bottom:10px; }
    .header-row{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;margin-bottom:10px;}
    .logo-box{width:70px;height:70px;border:2px solid orange;text-align:center;line-height:70px;color:orange;margin-bottom:10px;}
    .form-title{background-color:darkgreen;color:gold;padding:5px 25px;border-radius:6px;font-size:22px;margin-bottom:10px;}
    .search-box{display:flex;align-items:center;gap:8px;}
    .search-box input{flex:1;min-width:120px;padding:5px;border-radius:5px;border:none;}
    .search-label{background:gold;color:darkred;padding:5px 10px;border-radius:4px;font-weight:bold;cursor:pointer;}
    .form-row{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:10px;}
    .form-group{flex:1 1 100%;}
    label{display:block;background-color:#1c1c44;color:gold;padding:5px 10px;border-radius:6px;font-size:14px;margin-bottom:5px;}
    input, textarea, select{width:100%;height:30px;padding:8px;background-color:#d5d8ff;color:#000033;font-weight:bold;border-radius:5px;border:none;box-sizing:border-box;}
    .section-title{text-align:center;font-size:20px;margin:20px 0 10px;font-weight:bold;}
    .buttons{display:flex;flex-wrap:wrap;justify-content:center;gap:10px;margin-top:20px;}
    .buttons button{background-color:#22225c;color:gold;font-weight:bold;padding:10px 20px;border:none;border-radius:8px;cursor:pointer;}
    .buttons button:hover{background-color:#3a3a85;}
    @media (min-width:601px){ .form-group{flex:1 1 calc(50% - 10px);} }
    @media (max-width:600px){ .search-box{width:100%;margin-top:10px;} }
    .form { background-color: #29295c; padding:20px; border-radius:12px; margin-top:20px; }
  </style>
</head>
<body>
  <div style="text-align: right; margin: 10px;">
    <button type="button" onclick="window.location.href='Dashboard.html';" style="background-color: #007bff; color: white; border: none; padding: 6px 14px; font-size: 14px; border-radius: 4px; cursor: pointer;">Home</button>
  </div>
  <div class="container">
    <div class="header-row">
      <div class="logo-box">‡¶≤‡ßã‡¶ó‡ßã</div>
      <h2>‡¶Æ‡ßá‡¶∏‡¶æ‡¶∞‡ßç‡¶∏ ‡¶∂‡¶æ‡¶Æ‡ßÄ‡¶Æ ‡¶Æ‡¶ü‡¶∞‡¶∏</h2>
      <div class="search-box">
        <div class="form-title">Entry Form</div>
        <div class="search-label" onclick="searchEntry()">‡¶∏‡¶æ‡¶∞‡ßç‡¶ö</div>
        <input type="text" id="searchInput" placeholder="‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®...">
      </div>
    </div>

    <div class="form">
      <form id="entryForm">
        <input type="hidden" name="index" value=""> <!-- ‡¶è‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶ø‡¶∞ ‡¶á‡¶®‡¶°‡ßá‡¶ï‡ßç‡¶∏ -->
        <div class="form-row">
          <div class="form-group"><label>‡¶ï‡ßç‡¶∞‡¶Æ‡¶ø‡¶ï ‡¶®‡¶Ç:</label><input type="text" name="serial" readonly></div>
          <div class="form-group"><label>‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ:</label><input type="date" name="date"></div>
        </div>
        <div class="form-row">
          <div class="form-group"><label>‡¶®‡¶æ‡¶Æ:</label><input type="text" name="name"></div>
          <div class="form-group"><label>‡¶™‡¶ø‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ:</label><input type="text" name="father"></div>
        </div>
        <div class="form-row">
          <div class="form-group"><label>‡¶ú‡¶æ‡¶§‡ßÄ‡ßü ‡¶™‡¶∞‡¶ø‡¶ö‡ßü‡¶™‡¶§‡ßç‡¶∞:</label><input type="text" name="nid"></div>
          <div class="form-group"><label>‡¶ú‡¶®‡ßç‡¶Æ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ:</label><input type="date" name="dob"></div>
        </div>
        <div class="form-row">
          <div class="form-group"><label>‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤:</label><input type="tel" name="mobile"></div>
          <div class="form-group"><label>‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ:</label><textarea name="address"></textarea></div>
        </div>
        <div class="section-title">‡¶ó‡¶æ‡ßú‡¶ø‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø</div>
        <div class="form-row">
          <div class="form-group"><label>‡¶ó‡¶æ‡ßú‡¶ø‡¶∞ ‡¶ß‡¶∞‡¶®:</label><input type="text" name="vehicle_type"></div>
          <div class="form-group"><label>‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶™‡ßç‡¶≤‡ßá‡¶ü:</label><input type="text" name="number_plate"></div>
        </div>
        <div class="form-row">
          <div class="form-group"><label>‡¶á‡¶û‡ßç‡¶ú‡¶ø‡¶® ‡¶®‡¶Ç:</label><input type="text" name="engine"></div>
          <div class="form-group"><label>‡¶ö‡ßç‡¶Ø‡¶æ‡¶∏‡¶ø‡¶∏ ‡¶®‡¶Ç:</label><input type="text" name="chassis"></div>
        </div>
        <div class="form-row">
          <div class="form-group"><label>‡¶Æ‡¶°‡ßá‡¶≤:</label><input type="text" name="model"></div>
          <div class="form-group"><label>‡¶∏‡¶ø‡¶∏‡¶ø:</label><input type="text" name="cc"></div>
        </div>
        <div class="form-row">
          <div class="form-group"><label>‡¶∞‡¶Ç:</label><input type="text" name="color"></div>
        </div>
        <div class="section-title">‡¶ñ‡¶∞‡¶ö ‡¶¨‡¶ø‡¶¨‡¶∞‡¶®‡ßÄ</div>
        <div class="form-row">
          <div class="form-group"><label>‡¶ï‡ßç‡¶∞‡ßü ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø:</label><input type="number" name="total"></div>
        </div>
        <div class="form-row">
            <label style="width:100%; color:gold;">‡¶Ü‡¶®‡ßÅ‡¶∑‡¶æ‡¶ô‡ßç‡¶ó‡¶ø‡¶ï ‡¶ñ‡¶∞‡¶ö:</label>
            <div style="display:flex; flex-wrap:wrap; gap:15px; width:100%;">
              <div style="display:flex; align-items:center; gap:5px;">‡¶ñ‡¶æ‡¶§ 01: <input type="text" name="item1" style="width:100px;"> ‡¶ü‡¶æ‡¶ï‡¶æ: <input type="number" name="amount1" style="width:80px;"></div>
              <div style="display:flex; align-items:center; gap:5px;">‡¶ñ‡¶æ‡¶§ 02: <input type="text" name="item2" style="width:100px;"> ‡¶ü‡¶æ‡¶ï‡¶æ: <input type="number" name="amount2" style="width:80px;"></div>
              <div style="display:flex; align-items:center; gap:5px;">‡¶ñ‡¶æ‡¶§ 03: <input type="text" name="item3" style="width:100px;"> ‡¶ü‡¶æ‡¶ï‡¶æ: <input type="number" name="amount3" style="width:80px;"></div>
              <div style="display:flex; align-items:center; gap:5px;">‡¶ñ‡¶æ‡¶§ 04: <input type="text" name="item4" style="width:100px;"> ‡¶ü‡¶æ‡¶ï‡¶æ: <input type="number" name="amount4" style="width:80px;"></div>
              <div style="display:flex; align-items:center; gap:5px;">‡¶ñ‡¶æ‡¶§ 05: <input type="text" name="item5" style="width:100px;"> ‡¶ü‡¶æ‡¶ï‡¶æ: <input type="number" name="amount5" style="width:80px;"></div>
              <div style="display:flex; align-items:center; gap:5px;">‡¶ñ‡¶æ‡¶§ 06: <input type="text" name="item6" style="width:100px;"> ‡¶ü‡¶æ‡¶ï‡¶æ: <input type="number" name="amount6" style="width:80px;"></div>
              <div style="display:flex; align-items:center; gap:5px;">‡¶ñ‡¶æ‡¶§ 07: <input type="text" name="item7" style="width:100px;"> ‡¶ü‡¶æ‡¶ï‡¶æ: <input type="number" name="amount7" style="width:80px;"></div>
              <div style="display:flex; align-items:center; gap:5px;">‡¶ñ‡¶æ‡¶§ 08: <input type="text" name="item8" style="width:100px;"> ‡¶ü‡¶æ‡¶ï‡¶æ: <input type="number" name="amount8" style="width:80px;"></div>
              <div style="display:flex; align-items:center; gap:5px;">‡¶ñ‡¶æ‡¶§ 09: <input type="text" name="item9" style="width:100px;"> ‡¶ü‡¶æ‡¶ï‡¶æ: <input type="number" name="amount9" style="width:80px;"></div>
              <div style="display:flex; align-items:center; gap:5px;">‡¶ñ‡¶æ‡¶§ 10: <input type="text" name="item10" style="width:100px;"> ‡¶ü‡¶æ‡¶ï‡¶æ: <input type="number" name="amount10" style="width:80px;"></div>
              <div style="display:flex; align-items:center; gap:5px;">‡¶ñ‡¶æ‡¶§ 11: <input type="text" name="item11" style="width:100px;"> ‡¶ü‡¶æ‡¶ï‡¶æ: <input type="number" name="amount11" style="width:80px;"></div>
              <div style="display:flex; align-items:center; gap:5px;">‡¶ñ‡¶æ‡¶§ 12: <input type="text" name="item12" style="width:100px;"> ‡¶ü‡¶æ‡¶ï‡¶æ: <input type="number" name="amount12" style="width:80px;"></div>
              <div style="display:flex; align-items:center; gap:5px;">‡¶ñ‡¶æ‡¶§ 13: <input type="text" name="item13" style="width:100px;"> ‡¶ü‡¶æ‡¶ï‡¶æ: <input type="number" name="amount13" style="width:80px;"></div>
              <div style="display:flex; align-items:center; gap:5px;">‡¶ñ‡¶æ‡¶§ 14: <input type="text" name="item14" style="width:100px;"> ‡¶ü‡¶æ‡¶ï‡¶æ: <input type="number" name="amount14" style="width:80px;"></div>
              <div style="display:flex; align-items:center; gap:5px;">‡¶ñ‡¶æ‡¶§ 15: <input type="text" name="item15" style="width:100px;"> ‡¶ü‡¶æ‡¶ï‡¶æ: <input type="number" name="amount15" style="width:80px;"></div>
              <div style="display:flex; align-items:center; gap:5px;">‡¶ñ‡¶æ‡¶§ 16: <input type="text" name="item16" style="width:100px;"> ‡¶ü‡¶æ‡¶ï‡¶æ: <input type="number" name="amount16" style="width:80px;"></div>
              <div style="display:flex; align-items:center; gap:5px;">
                ‡¶ñ‡¶æ‡¶§ 17: <input type="text" name="item17" style="width:100px;">
                ‡¶ü‡¶æ‡¶ï‡¶æ: <input type="number" name="amount17" style="width:80px;">
              </div>
              <div style="display:flex; align-items:center; gap:5px;">
                ‡¶ñ‡¶æ‡¶§ 18: <input type="text" name="item18" style="width:100px;">
                ‡¶ü‡¶æ‡¶ï‡¶æ: <input type="number" name="amount18" style="width:80px;">
              </div>
              <div style="display:flex; align-items:center; gap:5px;">
                ‡¶ñ‡¶æ‡¶§ 19: <input type="text" name="item19" style="width:100px;">
                ‡¶ü‡¶æ‡¶ï‡¶æ: <input type="number" name="amount19" style="width:80px;">
              </div>
              <div style="display:flex; align-items:center; gap:5px;">
                ‡¶ñ‡¶æ‡¶§ 20: <input type="text" name="item20" style="width:100px;">
                ‡¶ü‡¶æ‡¶ï‡¶æ: <input type="number" name="amount20" style="width:80px;">
              </div>
  
          </div>
        </div>
        <div class="form-row">
          <div class="form-group"><label>‡¶Ü‡¶®‡ßÅ‡¶∑‡¶æ‡¶ô‡ßç‡¶ó‡¶ø‡¶ï ‡¶Æ‡ßã‡¶ü:</label><input type="number" name="accessories" readonly></div>
        </div>
        <div class="form-row">
          <div class="form-group"><label>‡¶Æ‡ßã‡¶ü ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø:</label><input type="number" name="due" readonly></div>
        </div>
        <div class="buttons">
          <button type="submit">‡¶ú‡¶Æ‡¶æ</button>
          <button type="button" id="updateBtn">Update</button>
        </div>
        <div class="buttons" style="margin-top: 20px;">
          <button onclick="downloadEntries()" type="button" style="background-color:#2e8b57;">üì• ‡¶§‡¶•‡ßç‡¶Ø ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶°</button>
          <label for="uploadFile" style="background-color:#8b2e2e; padding:10px 20px; border-radius:8px; cursor:pointer; color:gold;">
            üì§ ‡¶§‡¶•‡ßç‡¶Ø ‡¶Ü‡¶™‡¶≤‡ßã‡¶°
            <input type="file" id="uploadFile" accept=".json" style="display: none;" onchange="uploadEntries(event)">
          </label>
        </div>
      </form>
    </div>
  </div>

  <script>
    // ‡ßß) ‡¶≤‡ßã‡¶ï‡¶æ‡¶≤‡¶∏‡ßç‡¶ü‡ßã‡¶∞‡ßá‡¶ú ‡¶•‡ßá‡¶ï‡ßá ‡¶è‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶ø‡¶ó‡ßÅ‡¶≤‡ßã ‡¶≤‡ßã‡¶°
    let entries = JSON.parse(localStorage.getItem('entries') || '[]');
  
    // ‡ß®) serial ‡¶á‡¶®‡¶™‡ßÅ‡¶ü‡ßá ‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ ‡¶ï‡ßç‡¶∞‡¶Æ‡¶ø‡¶ï ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶∏‡ßá‡¶ü
    function updateSerial() {
      const serialInput = document.querySelector('input[name="serial"]');
      if (!serialInput) return;
      serialInput.value = entries.length + 1;
    }
  
    // ‡ß©) ‡¶´‡¶∞‡ßç‡¶Æ ‡¶°‡ßá‡¶ü‡¶æ ‡¶∏‡¶Ç‡¶ó‡ßç‡¶∞‡¶π‡ßá‡¶∞ ‡¶π‡ßá‡¶≤‡ßç‡¶™‡¶æ‡¶∞
    function getFormData() {
      const form = document.getElementById('entryForm');
      const data = {};
      new FormData(form).forEach((value, key) => { data[key] = value; });
      return data;
    }
  
    // ‡ß™) ‡¶®‡¶§‡ßÅ‡¶® ‡¶è‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶ø ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡¶æ
    function saveEntry(e) {
      e.preventDefault();
      const data = getFormData();
      entries.push(data);
      localStorage.setItem('entries', JSON.stringify(entries));
      updateSerial();            // ‡¶®‡¶§‡ßÅ‡¶® ‡¶∏‡¶ø‡¶∞‡¶ø‡ßü‡¶æ‡¶≤ ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶¨‡ßá :contentReference[oaicite:0]{index=0}:contentReference[oaicite:1]{index=1}
      e.target.reset();
      alert('‡¶§‡¶•‡ßç‡¶Ø ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá ‚úÖ');
    }
  
    // ‡ß´) ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶ï‡¶∞‡ßá ‡¶´‡¶∞‡ßç‡¶Æ‡ßá ‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ‡¶´‡¶ø‡¶∞‡¶ø‡ßü‡ßá ‡¶Ü‡¶®‡¶æ
    function searchEntry() {
      const q = document.getElementById('searchInput').value.trim().toLowerCase();
      if (!q) { alert('‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®‡•§'); return; }
      const idx = entries.findIndex(entry =>
        Object.values(entry).some(val => String(val).toLowerCase().includes(q))
      );
      if (idx === -1) { alert('‡¶ï‡ßã‡¶®‡ßã ‡¶Æ‡¶ø‡¶≤ ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§'); return; }
      const match = entries[idx];
      const form = document.getElementById('entryForm');
      Object.entries(match).forEach(([key, value]) => {
        const el = form.querySelector(`[name="${key}"]`);
        if (el) el.value = value;
      });
      form.querySelector('input[name="index"]').value = idx;  // ‡¶á‡¶®‡¶°‡ßá‡¶ï‡ßç‡¶∏ ‡¶π‡¶ø‡¶°¬≠den ‡¶á‡¶®‡¶™‡ßÅ‡¶ü‡ßá ‡¶∏‡ßá‡¶ü :contentReference[oaicite:2]{index=2}:contentReference[oaicite:3]{index=3}
      updateTotalCost();
      alert('‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶ø‡¶§ ‡¶§‡¶•‡ßç‡¶Ø ‡¶´‡¶ø‡¶∞‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ü‡¶®‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá ‚úÖ');
    }
  
    // ‡ß¨) ‡¶ñ‡¶∞‡¶ö ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
    function updateTotalCost() {
      const basePrice = parseFloat(document.querySelector('input[name="total"]').value) || 0;
      let extra = 0;
      for (let i = 1; i <= 20; i++) {
        extra += parseFloat(document.querySelector(`input[name="amount${i}"]`)?.value) || 0;
      }
      document.querySelector('input[name="accessories"]').value = extra;
      document.querySelector('input[name="due"]').value = basePrice + extra;
    }  // :contentReference[oaicite:4]{index=4}:contentReference[oaicite:5]{index=5}
  
    // ‡ß≠) ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö‡ßá‡¶∞ ‡¶™‡¶∞ ‚ÄúUpdate‚Äù ‡¶¨‡¶æ‡¶ü‡¶® ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡¶≤‡ßá ‡¶è‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶ø ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
    function updateEntry() {
      const form = document.getElementById('entryForm');
      const idx = parseInt(form.querySelector('input[name="index"]').value);
      if (isNaN(idx)) { alert('‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶ï‡ßã‡¶®‡ßã ‡¶è‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶ø ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶ï‡¶∞‡ßÅ‡¶®‡•§'); return; }
      entries[idx] = getFormData();
      localStorage.setItem('entries', JSON.stringify(entries));
      alert('‡¶è‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶ø ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá ‚úÖ');
      form.reset();
      updateSerial();
    }
  
    // ‡ßÆ) JSON ‡¶´‡¶æ‡¶á‡¶≤‡ßá ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶°
    function downloadEntries() {
      const blob = new Blob([JSON.stringify(entries, null, 2)], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'entries_backup.json';
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    }  // :contentReference[oaicite:6]{index=6}:contentReference[oaicite:7]{index=7}
  
    // ‡ßØ) JSON ‡¶´‡¶æ‡¶á‡¶≤ ‡¶•‡ßá‡¶ï‡ßá ‡¶Ü‡¶™‡¶≤‡ßã‡¶°
    function uploadEntries(event) {
      const file = event.target.files[0];
      if (!file) return alert('‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶è‡¶ï‡¶ü‡¶ø JSON ‡¶´‡¶æ‡¶á‡¶≤ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§');
      const reader = new FileReader();
      reader.onload = e => {
        try {
          const data = JSON.parse(e.target.result);
          if (Array.isArray(data)) {
            entries = data;
            localStorage.setItem('entries', JSON.stringify(entries));
            alert('‡¶§‡¶•‡ßç‡¶Ø ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá ‚úÖ');
            updateSerial();
          } else {
            alert('‡¶∏‡¶†‡¶ø‡¶ï ‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü‡ßá‡¶∞ JSON ‡¶¶‡¶ø‡¶®‡•§');
          }
        } catch (err) {
          alert('JSON ‡¶™‡¶æ‡¶∞‡ßç‡¶∏‡¶ø‡¶Ç ‡¶è ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø: ' + err.message);
        }
      };
      reader.readAsText(file);
    }
  
    // ‡ßß‡ß¶) ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶≤‡¶ø‡¶∏‡ßá‡¶®‡¶æ‡¶∞ ‡¶∏‡ßá‡¶ü‡¶Ü‡¶™
    window.addEventListener('DOMContentLoaded', () => {
      updateSerial();
      document.getElementById('entryForm').addEventListener('submit', saveEntry);
      document.querySelector('.search-label').addEventListener('click', searchEntry);
      document.getElementById('updateBtn').addEventListener('click', updateEntry);
      document.querySelector('input[name="total"]').addEventListener('input', updateTotalCost);
      for (let i = 1; i <= 20; i++) {
        const input = document.querySelector(`input[name="amount${i}"]`);
        if (input) input.addEventListener('input', updateTotalCost);
      }
      document.getElementById('uploadFile').addEventListener('change', uploadEntries);
    });
  </script>
  
</body>
</html>
